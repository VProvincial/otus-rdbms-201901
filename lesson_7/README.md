# Урок 7 - DDL: создание и редактирование объектов БД  

## Задача:

Создаем Dockerfile, в котором разворачивается image нужной СУБД, 
и скриптом разворачивается структура БД, 
наружу должен быть прокинут порт для подключения.  
Формат сдачи - github репозиторий, в README должно быть описано как подключится к вашей базе (субд, название базы, логин, пароль, порт)

\* Для учебной базы сделать скрипт для партиционирования таблицы CDR по месяцам (на выходе SQL  скрипт на модерацию + дамп измененной структуры)  
\** Проанализировать базу voip и создать внешние ключи (скрипт для создания ключей + схема данных)


#### Docker

В директории */lesson_9/* есть конфиг docker-compose, по которому:
 1. Будут проброшены переменные окружения, с доступами к БД, из файла */docker/mysql/mysql.env*
 2. Будет создана БД в директории */docker/mysql/db_lesson_9/*
 3. Будут автоматом запущены скрипты из папки *entrypoint_sql* (бэкап БД)
    * 01_backup_07_05.sql - запустит бэкап БД
    * 02_create_index.sql - создаст индексы для БД
    
#### Доступы

Переменные окружения находятся в файле */docker/mysql/mysql.env*.  
Пароль от root: qwer
БД: afisha

#### Как запускать

         docker-compose up
         docker ps
         
         CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                               NAMES
         603188061b89        mysql:5.7           "docker-entrypoint.s…"   2 minutes ago       Up 2 minutes        0.0.0.0:3306->3306/tcp, 33060/tcp   lesson_9_mysql
         
         docker exec -it lesson_9_mysql bash
         mysql -p          //qwer